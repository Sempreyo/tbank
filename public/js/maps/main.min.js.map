{"version":3,"sources":["main.js"],"names":["document","addEventListener","articleCarousel1","querySelector","articleCarousel2","slider1","slider2","anchorScroll","elem","targetId","getAttribute","targetElement","getElementById","scrollIntoView","behavior","block","articleCarousel1Next","articleCarousel1Prev","articleCarousel2Next","articleCarousel2Prev","menuItems1","querySelectorAll","menuItems2","menuBorders1","menuBorders2","menuIcons1","menuIcons2","aricleTitles1","aricleTitles2","aricleContents1","aricleContents2","setMaxHeight","elems","forEach","el","style","height","max","Math","map","offsetHeight","activateMenu","activeIndex","border","icon","isNextSwipers","classList","remove","add","changeActiveMenu1","menuItem","index","changeActiveMenu2","clickActiveMenu1","slideTo","setTimeout","clickActiveMenu2","Swiper","init","slidesPerView","spaceBetween","effect","autoHeight","navigation","nextEl","prevEl","on","slideChange","swiper","slides","dataset","menu","articlesSections","length","articleResizeObserver","ResizeObserver","entries","article","observe","horizontalCarousel","horizontalCarouselNext","nextElementSibling","horizontalCarouselPrev","breakpoints","576","768","contains","slideshowCarousel","slideshowCarouselNext","slideshowCarouselPrev","openNav","bodyState","body","state","burger","closeButtonMenu","overlay","header","previousTop","window","scrollY","setHeaderStyles","currentTop","anchors","anchor","e","preventDefault","location","hash","buttonUp","buttonUpHandler","scroll","pageYOffset","gridElement","items","grid","interval","gridInit","_isDestroyed","Muuri","dragEnabled","layoutOnResize","layout","horizontal","gridDestroy","gridHeight","item","removeAttribute","transform","destroy","getRandomIndexes","totalItems","index1","floor","random","index2","swapItems","getItems","item1","item2","tempWidth","getElement","offsetWidth","tempHeight","tempTransform","width","animationInit","undefined","small","setInterval","advantagesSection","entry","contentRect","clearInterval","hidden","opacity","matchMedia","matches","heroBg","IntersectionObserver","observer","isIntersecting","sort","a","b","order","threshold"],"mappings":"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","file":"../main.min.js","sourcesContent":["/* Common */\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst articleCarousel1 = document.querySelector(\".article__slider--1\");\r\n\tconst articleCarousel2 = document.querySelector(\".article__slider--2\");\r\n\tlet slider1 = \"\";\r\n\tlet slider2 = \"\";\r\n\tconst TRANSITION_PAUSE = 500;\r\n\r\n\tconst anchorScroll = (elem) => {\r\n\t\tconst targetId = elem.getAttribute('data-target');\r\n\t\tconst targetElement = document.getElementById(targetId);\r\n\r\n\t\tif (targetElement) {\r\n\t\t\ttargetElement.scrollIntoView({\r\n\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\tblock: 'start'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tif (articleCarousel1 && articleCarousel2) {\r\n\t\tconst articleCarousel1Next = articleCarousel1.querySelector(\".article__nav-mobile .swiper-btn-next\");\r\n\t\tconst articleCarousel1Prev = articleCarousel1.querySelector(\".article__nav-mobile .swiper-btn-prev\");\r\n\t\tconst articleCarousel2Next = articleCarousel2.querySelector(\".article__nav-mobile .swiper-btn-next\");\r\n\t\tconst articleCarousel2Prev = articleCarousel2.querySelector(\".article__nav-mobile .swiper-btn-prev\");\r\n\t\tconst menuItems1 = articleCarousel1.querySelectorAll(\".circle-menu__item\");\r\n\t\tconst menuItems2 = articleCarousel2.querySelectorAll(\".circle-menu__item\");\r\n\t\tconst menuBorders1 = articleCarousel1.querySelectorAll(\".circle-menu__border-item\");\r\n\t\tconst menuBorders2 = articleCarousel2.querySelectorAll(\".circle-menu__border-item\");\r\n\t\tconst menuIcons1 = articleCarousel1.querySelectorAll(\".circle-menu__centered-icon\");\r\n\t\tconst menuIcons2 = articleCarousel2.querySelectorAll(\".circle-menu__centered-icon\");\r\n\t\tconst aricleTitles1 = articleCarousel1.querySelectorAll(\".article__title\");\r\n\t\tconst aricleTitles2 = articleCarousel2.querySelectorAll(\".article__title\");\r\n\t\tconst aricleContents1 = articleCarousel1.querySelectorAll(\".article__person\");\r\n\t\tconst aricleContents2 = articleCarousel2.querySelectorAll(\".article__person\");\r\n\r\n\t\tconst setMaxHeight = (elems) => {\r\n\t\t\telems.forEach(el => el.style.height = \"auto\");\r\n\r\n\t\t\tconst max =  Math.max(...[...elems].map(el => el.offsetHeight));\r\n\r\n\t\t\telems.forEach(el => {\r\n\t\t\t\tel.style.height = `${max}px`;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetMaxHeight(aricleTitles1);\r\n\t\tsetMaxHeight(aricleTitles2);\r\n\t\tsetMaxHeight(aricleContents1);\r\n\t\tsetMaxHeight(aricleContents2);\r\n\r\n\t\tconst activateMenu = (activeIndex, border, icon, isNextSwipers=false) => { // isNextSwipers для расчета индексов элементов следующих после первого свайперов\r\n\t\t\tborder.forEach(border => border.classList.remove(\"active\"));\r\n\t\t\tborder[isNextSwipers ? activeIndex + 2 : activeIndex].classList.add(\"active\");\r\n\t\t\ticon.forEach(icon => icon.classList.remove(\"active\"));\r\n\t\t\ticon[isNextSwipers ? activeIndex + 2 : activeIndex].classList.add(\"active\");\r\n\t\t}\r\n\r\n\t\tconst changeActiveMenu1 = (menuItem, index) => {\r\n\t\t\tswitch (index) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tactivateMenu(0, menuBorders1, menuIcons1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tactivateMenu(1, menuBorders1, menuIcons1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst changeActiveMenu2 = (menuItem, index) => {\r\n\t\t\tswitch (index) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tactivateMenu(0, menuBorders2, menuIcons2, true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tactivateMenu(1, menuBorders2, menuIcons2, true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst clickActiveMenu1 = (menuItem, index) => {\r\n\t\t\tswitch (index) {\r\n\t\t\t\tcase \"0\":\r\n\t\t\t\t\tslider1.slideTo(0);\r\n\t\t\t\t\tactivateMenu(0, menuBorders1, menuIcons1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"1\":\r\n\t\t\t\t\tslider1.slideTo(1);\r\n\t\t\t\t\tactivateMenu(1, menuBorders1, menuIcons1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"2\":\r\n\t\t\t\t\tanchorScroll(menuItem);\r\n\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tslider2.slideTo(0);\r\n\t\t\t\t\t\tactivateMenu(2, menuBorders2, menuIcons2);\r\n\t\t\t\t\t}, TRANSITION_PAUSE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"3\":\r\n\t\t\t\t\tanchorScroll(menuItem);\r\n\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tslider2.slideTo(1);\r\n\t\t\t\t\t\tactivateMenu(3, menuBorders2, menuIcons2);\r\n\t\t\t\t\t}, TRANSITION_PAUSE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst clickActiveMenu2 = (menuItem, index) => {\r\n\t\t\tswitch (index) {\r\n\t\t\t\tcase \"0\":\r\n\t\t\t\t\tanchorScroll(menuItem);\r\n\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tslider1.slideTo(0);\r\n\t\t\t\t\t\tactivateMenu(0, menuBorders1, menuIcons1);\r\n\t\t\t\t\t}, TRANSITION_PAUSE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"1\":\r\n\t\t\t\t\tanchorScroll(menuItem);\r\n\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tslider1.slideTo(1);\r\n\t\t\t\t\t\tactivateMenu(1, menuBorders1, menuIcons1);\r\n\t\t\t\t\t}, TRANSITION_PAUSE);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"2\":\r\n\t\t\t\t\tslider2.slideTo(0);\r\n\t\t\t\t\tactivateMenu(2, menuBorders2, menuIcons2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"3\":\r\n\t\t\t\t\tslider2.slideTo(1);\r\n\t\t\t\t\tactivateMenu(3, menuBorders2, menuIcons2);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tslider1 = new Swiper(articleCarousel1, {\r\n\t\t\tinit: false,\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 10,\r\n\t\t\teffect: \"fade\",\r\n\t\t\tautoHeight: true,\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: articleCarousel1Next,\r\n\t\t\t\tprevEl: articleCarousel1Prev\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\tslideChange: function (swiper) {\r\n\t\t\t\t\tchangeActiveMenu1(swiper.slides[swiper.activeIndex], swiper.activeIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tslider2 = new Swiper(articleCarousel2, {\r\n\t\t\tinit: false,\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 10,\r\n\t\t\teffect: \"fade\",\r\n\t\t\tautoHeight: true,\r\n\t\t\tnavigation: {\r\n\t\t\t\tnextEl: articleCarousel2Next,\r\n\t\t\t\tprevEl: articleCarousel2Prev\r\n\t\t\t},\r\n\t\t\ton: {\r\n\t\t\t\tslideChange: function (swiper) {\r\n\t\t\t\t\tchangeActiveMenu2(swiper.slides[swiper.activeIndex], swiper.activeIndex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tslider1.on(\"init\", function() {\r\n\t\t\tmenuItems1.forEach(el => {\r\n\t\t\t\tel.addEventListener(\"click\", () => {\r\n\t\t\t\t\tclickActiveMenu1(el, el.dataset.menu);\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tslider2.on(\"init\", function() {\r\n\t\t\tmenuItems2.forEach(el => {\r\n\t\t\t\tel.addEventListener(\"click\", () => {\r\n\t\t\t\t\tclickActiveMenu2(el, el.dataset.menu);\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tslider1.init();\r\n\t\tslider2.init();\r\n\r\n\t\tconst articlesSections = document.querySelectorAll(\".article\");\r\n\r\n\t\tif (articlesSections && articlesSections.length > 0) {\r\n\t\t\tconst articleResizeObserver = new ResizeObserver(entries => {\r\n\t\t\t\tsetMaxHeight(aricleTitles1);\r\n\t\t\t\tsetMaxHeight(aricleTitles2);\r\n\t\t\t\tsetMaxHeight(aricleContents1);\r\n\t\t\t\tsetMaxHeight(aricleContents2);\r\n\t\t\t});\r\n\r\n\t\t\tarticlesSections.forEach(article => {\r\n\t\t\t\tarticleResizeObserver.observe(article);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/* Горизонтальный прокручивающийся слайдер с карточками */\r\n\tconst horizontalCarousel = document.querySelectorAll(\".horizontal-slider__slider .swiper\");\r\n\r\n\tif (horizontalCarousel.length > 0) {\r\n\t\thorizontalCarousel.forEach(el => {\r\n\t\t\tconst horizontalCarouselNext = el.nextElementSibling.querySelector(\".swiper-btn-next\");\r\n\t\t\tconst horizontalCarouselPrev = el.nextElementSibling.querySelector(\".swiper-btn-prev\");\r\n\r\n\t\t\tconst slider = new Swiper(el, {\r\n\t\t\t\tslidesPerView: 1,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: horizontalCarouselNext,\r\n\t\t\t\t\tprevEl: horizontalCarouselPrev,\r\n\t\t\t\t},\r\n\t\t\t\tbreakpoints: {\r\n\t\t\t\t\t576: {\r\n\t\t\t\t\t\tslidesPerView: 2,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t768: {\r\n\t\t\t\t\t\tslidesPerView: el.classList.contains(\"other-articles\") ? 3 : 'auto',\r\n\t\t\t\t\t\tspaceBetween: 20\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t/* Слайдшоу с текстом */\r\n\tconst slideshowCarousel = document.querySelectorAll(\".slideshow__slider .swiper\");\r\n\r\n\tif (slideshowCarousel.length > 0) {\r\n\t\tslideshowCarousel.forEach(el => {\r\n\t\t\tconst slideshowCarouselNext = el.nextElementSibling.querySelector(\".swiper-btn-next\");\r\n\t\t\tconst slideshowCarouselPrev = el.nextElementSibling.querySelector(\".swiper-btn-prev\");\r\n\r\n\t\t\tconst slider = new Swiper(el, {\r\n\t\t\t\tslidesPerView: 1,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t\tnavigation: {\r\n\t\t\t\t\tnextEl: slideshowCarouselNext,\r\n\t\t\t\t\tprevEl: slideshowCarouselPrev,\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst openNav = () => {\r\n\t\tlet bodyState = document.body.getAttribute(\"data-state\");\r\n\r\n\t\tif (bodyState === \"mobile-menu\") {\r\n\t\t\tdocument.body.dataset.state = \"\";\r\n\t\t} else {\r\n\t\t\tdocument.body.dataset.state = \"mobile-menu\";\r\n\t\t}\r\n\t}\r\n\r\n\t/* Мобильное меню */\r\n\tconst burger = document.querySelector(\".header__burger\");\r\n\tconst closeButtonMenu = document.querySelector(\".header__menu-close\");\r\n\tconst overlay = document.querySelector(\".overlay\");\r\n\r\n\tburger.addEventListener(\"click\", openNav);\r\n\tcloseButtonMenu.addEventListener(\"click\", openNav);\r\n\toverlay.addEventListener(\"click\", openNav);\r\n\r\n\t/* Смарт хэдер */\r\n\tconst HEADER_SCROLL_BG = 50;\r\n\tconst HEADER_SCROLL_HIDE = 400;\r\n\tconst header = document.querySelector(\".header\");\r\n\tlet previousTop = window.scrollY;\r\n\r\n\theader.classList.remove(\"header--hide\");\r\n\r\n\tconst setHeaderStyles = () => {\r\n\t\tlet currentTop = window.scrollY;\r\n\r\n\t\tif (currentTop > HEADER_SCROLL_BG) {\r\n\t\t\theader.classList.add(\"header--bg\");\r\n\t\t} else {\r\n\t\t\theader.classList.remove(\"header--bg\");\r\n\t\t}\r\n\r\n\t\tif (currentTop > HEADER_SCROLL_HIDE && currentTop > previousTop && document.body.dataset.state !== \"mobile-menu\") {\r\n\t\t\theader.classList.add(\"header--hide\");\r\n\t\t} else {\r\n\t\t\theader.classList.remove(\"header--hide\");\r\n\t\t}\r\n\t\tpreviousTop = currentTop;\r\n\t};\r\n\r\n\tdocument.addEventListener(\"scroll\", () => {\r\n\t\tsetHeaderStyles();\r\n\t});\r\n\r\n\tsetHeaderStyles();\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst anchors = document.querySelectorAll('.anchor');\r\n\r\n\tif (anchors && anchors.length > 0) {\r\n\t\tanchors.forEach(anchor => {\r\n\t\t\tanchor.addEventListener('click', function (e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (window.location.hash) {\r\n\t\t\t\t\tdocument.querySelector(window.location.hash).scrollIntoView({\r\n\t\t\t\t\t\tbehavior: 'smooth'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst buttonUp = document.querySelector(\".button-up\");\r\n\r\n\tconst initButtonUp = () => {\r\n\t\tif (buttonUp) {\r\n\t\t\twindow.addEventListener(\"scroll\", buttonUpHandler);\r\n\r\n\t\t\tbuttonUp.addEventListener(\"click\", () => {\r\n\t\t\t\tdocument.querySelector(\"body\").scrollIntoView({\r\n\t\t\t\t\tbehavior: 'smooth'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst buttonUpHandler = () => {\r\n\t\tscroll = window.pageYOffset;\r\n\r\n\t\tif (scroll > 300) {\r\n\t\t\tbuttonUp.classList.add(\"button-up--visible\");\r\n\t\t} else {\r\n\t\t\tbuttonUp.classList.remove(\"button-up--visible\");\r\n\t\t}\r\n\t}\r\n\r\n\tinitButtonUp();\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\t/*const burger = document.querySelector(\".header__burger\");\r\n\tconst closeButtonMenu = document.querySelector(\".header__menu-close\");\r\n\tconst openNav = () => {\r\n\t\tlet bodyState = document.body.getAttribute(\"data-state\");\r\n\r\n\t\tif (bodyState === \"mobile-menu\") {\r\n\t\t\tdocument.body.dataset.state = \"\";\r\n\t\t} else {\r\n\t\t\tdocument.body.dataset.state = \"mobile-menu\";\r\n\t\t}\r\n\t}\r\n\r\n\tburger.addEventListener(\"click\", openNav);\r\n\tcloseButtonMenu.addEventListener(\"click\", openNav);*/\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\tconst gridElement = document.querySelector(\".advantages__grid\");\r\n\tconst items = document.querySelectorAll(\".advantages__item\");\r\n\tconst SKIP_ELEMENT_INDEX = 8;\r\n\tlet grid = \"\";\r\n\tlet interval = \"\";\r\n\r\n\tif (gridElement) {\r\n\t\tconst gridInit = () => {\r\n\t\t\tif (!grid || grid._isDestroyed) {\r\n\t\t\t\tgrid = new Muuri(\".advantages__grid\", {\r\n\t\t\t\t\tdragEnabled: false,\r\n\t\t\t\t\tlayoutOnResize: false,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t//fillGaps: true,\r\n\t\t\t\t\t\thorizontal: false,\r\n\t\t\t\t\t\t/*itemMargin: {\r\n\t\t\t\t\t\t\tx: 7,\r\n\t\t\t\t\t\t\ty: 7\r\n\t\t\t\t\t\t}*/\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgridInit();\r\n\r\n\t\tconst gridDestroy = () => {\r\n\t\t\tconst gridHeight = gridElement.offsetHeight;\r\n\r\n\t\t\titems.forEach(item => {\r\n\t\t\t\titem.removeAttribute(\"style\");\r\n\r\n\t\t\t\tif (item.classList.contains(\"advantages__item--small\")) {\r\n\t\t\t\t\titem.classList.remove(\"advantages__item--small\");\r\n\t\t\t\t\titem.style.transform = \"unset\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (grid && grid._isDestroyed === false) {\r\n\t\t\t\tgrid.destroy();\r\n\t\t\t\tgrid = null;\r\n\t\t\t\tgridElement.style.height = `${gridHeight}px`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* Получаем 2 случайных индекса элементов */\r\n\t\tconst getRandomIndexes = (totalItems) => {\r\n\t\t\tlet index1 = Math.floor(Math.random() * totalItems);\r\n\t\t\tlet index2 = Math.floor(Math.random() * totalItems);\r\n\r\n\t\t\t/* Проверим чтобы индекс был не равен значению, которое нужно пропустить */\r\n\t\t\twhile (index1 === SKIP_ELEMENT_INDEX || index2 === SKIP_ELEMENT_INDEX) {\r\n\t\t\t\tif (index1 === SKIP_ELEMENT_INDEX) {\r\n\t\t\t\t\tindex1 = Math.floor(Math.random() * totalItems);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (index2 === SKIP_ELEMENT_INDEX) {\r\n\t\t\t\t\tindex2 = Math.floor(Math.random() * totalItems);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* Проверим чтобы индексы отличались друг от друга */\r\n\t\t\twhile (index2 === index1) {\r\n\t\t\t\tindex2 = Math.floor(Math.random() * totalItems);\r\n\t\t\t}\r\n\r\n\t\t\treturn [index1, index2];\r\n\t\t}\r\n\r\n\t\t/* Свап элементов между собой */\r\n\t\tconst swapItems = (index1, index2) => {\r\n\t\t\tconst items = grid.getItems();\r\n\t\t\tconst item1 = items[index1];\r\n\t\t\tconst item2 = items[index2];\r\n\r\n\t\t\tif (!item1 || !item2) return;\r\n\r\n\t\t\tconst tempWidth = item1.getElement().offsetWidth;\r\n\t\t\tconst tempHeight = item1.getElement().offsetHeight;\r\n\t\t\tconst tempTransform = item1.getElement().style.transform;\r\n\r\n\t\t\t/* Меняем элементы местами */\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t/* Если карточка маленькая, уменьшаем в ней текст */\r\n\t\t\t\tif (item1.getElement().classList.contains(\"advantages__item--small\") &&\r\n\t\t\t\t\t!item2.getElement().classList.contains(\"advantages__item--small\")) {\r\n\t\t\t\t\titem1.getElement().classList.remove(\"advantages__item--small\");\r\n\t\t\t\t\titem2.getElement().classList.add(\"advantages__item--small\");\r\n\t\t\t\t} else if (!item1.getElement().classList.contains(\"advantages__item--small\") &&\r\n\t\t\t\t\titem2.getElement().classList.contains(\"advantages__item--small\")) {\r\n\t\t\t\t\titem1.getElement().classList.add(\"advantages__item--small\");\r\n\t\t\t\t\titem2.getElement().classList.remove(\"advantages__item--small\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem1.getElement().style.width = `${item2.getElement().offsetWidth}px`;\r\n\t\t\t\titem1.getElement().style.height = `${item2.getElement().offsetHeight}px`;\r\n\t\t\t\titem1.getElement().style.transform = item2.getElement().style.transform;\r\n\t\t\t\titem2.getElement().style.width = `${tempWidth}px`;\r\n\t\t\t\titem2.getElement().style.height = `${tempHeight}px`;\r\n\t\t\t\titem2.getElement().style.transform = tempTransform;\r\n\t\t\t}, 300);\r\n\t\t}\r\n\r\n\t\t/* Запускаем анимацию свапа каждые 4 секунды */\r\n\t\tconst animationInit = () => {\r\n\t\t\tif (grid && grid._isDestroyed === false) {\r\n\t\t\t\tgrid.on(\"layoutEnd\", function () {\r\n\t\t\t\t\titems.forEach(item => {\r\n\t\t\t\t\t\tif (item.dataset.small !== undefined) {\r\n\t\t\t\t\t\t\titem.classList.add(\"advantages__item--small\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tinterval = setInterval(() => {\r\n\t\t\t\t\t\tconst items = grid.getItems();\r\n\t\t\t\t\t\tif (items.length < 2) return;\r\n\t\t\t\t\t\tconst [index1, index2] = getRandomIndexes(items.length);\r\n\t\t\t\t\t\tswapItems(index1, index2);\r\n\t\t\t\t\t}, 4000);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tanimationInit();\r\n\r\n\t\tconst advantagesSection = document.querySelector(\".advantages\");\r\n\r\n\t\tconst sectionResizeObserver = new ResizeObserver(entries => {\r\n\t\t\tfor (let entry of entries) {\r\n\t\t\t\tconst width = entry.contentRect.width;\r\n\r\n\t\t\t\tif (width < 768) {\r\n\t\t\t\t\tgridDestroy();\r\n\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgridDestroy();\r\n\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\tgridInit();\r\n\t\t\t\t\tanimationInit();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsectionResizeObserver.observe(advantagesSection);\r\n\r\n\t\tdocument.addEventListener(\"visibilitychange\", () => {\r\n\t\t\tif (document.hidden) {\r\n\t\t\t\tgridElement.style.opacity = \"0\";\r\n\t\t\t\tgridDestroy();\r\n\t\t\t\tclearInterval(interval);\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tgridElement.style.opacity = \"1\";\r\n\t\t\t\t\tgridDestroy();\r\n\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\tgridInit();\r\n\t\t\t\t\tanimationInit();\r\n\t\t\t\t}, 300);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (window.matchMedia(\"(max-width: 767px)\").matches && !grid._isDestroyed) {\r\n\t\t\tgridDestroy();\r\n\t\t}\r\n\t}\r\n});\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n\t/* Анимация прорисовки иконки здания */\r\n\tconst heroBg = document.querySelector(\".hero__bg\");\r\n\r\n\tif (heroBg) {\r\n\t\tconst heroObserver = new IntersectionObserver((entries, observer) => {\r\n\t\t\tentries.forEach((entry) => {\r\n\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\theroBg.classList.add(\"show\");\r\n\r\n\t\t\t\t\t/* Анимация \"свет в окнах\" */\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tconst buildingWindows = heroBg.querySelectorAll(\".building-window\");\r\n\t\t\t\t\t\t[...buildingWindows]\r\n\t\t\t\t\t\t\t.sort((a, b) => a.dataset.order - b.dataset.order)\r\n\t\t\t\t\t\t\t.forEach(el => {\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tel.classList.add(\"active\");\r\n\t\t\t\t\t\t\t\t}, 800 * +el.dataset.order);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 1100);\r\n\t\t\t\t}\r\n\t\t\t}, {threshold: 0.5});\r\n\t\t});\r\n\r\n\t\theroObserver.observe(heroBg);\r\n\t}\r\n});"]}