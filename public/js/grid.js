document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".advantages__grid");let e="",a="";if(t){const t=()=>{e&&!e._isDestroyed||(e=new Muuri(".advantages__grid",{dragEnabled:!1,layoutOnResize:!1,layout:{horizontal:!1}}))};t();const s=()=>{document.querySelectorAll(".advantages__item").forEach(t=>{t.removeAttribute("style")}),e.destroy(),e=null},n=t=>{let e=Math.floor(Math.random()*t),a=Math.floor(Math.random()*t);for(;8===e||8===a;)8===e&&(e=Math.floor(Math.random()*t)),8===a&&(a=Math.floor(Math.random()*t));for(;a===e;)a=Math.floor(Math.random()*t);return[e,a]},l=(t,a)=>{const s=e.getItems(),n=s[t],l=s[a];if(!n||!l)return;const o=n.getElement().offsetWidth,m=n.getElement().offsetHeight,r=n.getElement().style.transform;setTimeout(()=>{n.getElement().classList.contains("advantages__item--small")&&!l.getElement().classList.contains("advantages__item--small")?(n.getElement().classList.remove("advantages__item--small"),l.getElement().classList.add("advantages__item--small")):!n.getElement().classList.contains("advantages__item--small")&&l.getElement().classList.contains("advantages__item--small")&&(n.getElement().classList.add("advantages__item--small"),l.getElement().classList.remove("advantages__item--small")),n.getElement().style.width=l.getElement().offsetWidth+"px",n.getElement().style.height=l.getElement().offsetHeight+"px",n.getElement().style.transform=l.getElement().style.transform,l.getElement().style.width=o+"px",l.getElement().style.height=m+"px",l.getElement().style.transform=r},300)},o=()=>{a=setInterval(()=>{const t=e.getItems();if(t.length<2)return;const[a,s]=n(t.length);l(a,s)},4e3)};e&&!1===e._isDestroyed&&e.on("layoutEnd",(function(){o()}));const m=document.querySelector(".advantages");new ResizeObserver(n=>{for(let l of n){l.contentRect.width<768?s():(s(),clearInterval(a),t(),e.on("layoutEnd",(function(){o()})))}}).observe(m),window.matchMedia("(max-width: 767px)").matches&&!e._isDestroyed&&s()}});